webpackJsonp([11],{"6kGN":function(t,e){},"7Otq":function(t,e,r){t.exports=r.p+"static/img/logo.cd9738a.png"},B4Uu:function(t,e){},HKEP:function(t,e){},I2pS:function(t,e){},LI6B:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r("7+uW"),a=r("Dd8w"),o=r.n(a),s=r("NYxO"),i={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-footer",{staticClass:"mt-4",attrs:{dark:"",inset:""}},[r("v-card",{staticClass:"flex",attrs:{flat:"",tile:""}},[r("v-card-actions",{staticClass:"teal justify-center"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"pa-2 text-xs-center",attrs:{xs12:"",sm6:"","order-xs2":"","order-sm1":""}},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"text-uppercase",attrs:{xs12:""}},[r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("my_location")])],1),t._v("\n                            7/4, Duong So 10, Tan Chanh Hiep, Thu Duc, Ho Chi Minh city.\n                        ")],1),t._v(" "),r("v-flex",{staticClass:"text-uppercase",attrs:{xs12:""}},[r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("local_phone")])],1),t._v("\n                            Phone: 0168.323.0464\n                        ")],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[r("v-btn",{attrs:{flat:"",href:"https://www.facebook.com/masternew966",target:"_blank"}},[r("v-icon",{attrs:{left:""}},[t._v("fab fa-facebook-square")]),t._v("\n                                FacebooK: Lê Hoàng Tân\n                            ")],1)],1)],1)],1),t._v(" "),r("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm6:"","order-xs1":"","order-sm2":""}},[r("iframe",{staticStyle:{border:"none",overflow:"hidden"},attrs:{src:"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2FMN-SHOP-1752492928169561&tabs&width="+t.widthIframe+"&height=130&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=false&appId=309427086295592",width:t.widthIframe,height:"130",scrolling:"no",frameborder:"0",allowTransparency:"true",allow:"encrypted-media"}})])],1),t._v(" "),r("v-flex",{attrs:{xs12:""}},[t._v("\n                ©2018 — "),r("strong",[t._v("MN SHOP")])])],1)],1)],1)],1)},staticRenderFns:[]};var c=r("VU/8")({computed:{widthIframe:function(){return this.$vuetify.breakpoint.xs?"300":"360"}}},i,!1,function(t){r("6kGN")},null,null).exports,u={data:function(){return{sideNav:!1}},methods:{resetQuery:function(){this.$store.dispatch("filter/resetQueryParams")},logout:function(){this.resetQuery(),this.$store.dispatch("user/logout"),this.$router.push({name:"home"})},showDrawerCart:function(){this.$store.commit("app/SET_DRAWER_CART",!0)},showMenuDrawer:function(){this.$store.commit("app/SET_DRAWER_MENU",!0)}},computed:o()({},Object(s.b)({authenticated:"user/authenticated",email:"user/email",amount:"cart/amount",showMenu:"app/showMenu"}),{showItemCart:function(){return"product"==this.$route.name||"favorite"==this.$route.name}})},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",{staticClass:"elevation-1",attrs:{app:"",light:""}},[n("v-toolbar-title",[n("router-link",{staticStyle:{cursor:"pointer"},attrs:{tag:"span",to:"/"},nativeOn:{click:function(e){return t.resetQuery(e)}}},[n("img",{staticClass:"logo",attrs:{src:r("7Otq"),height:"62px"}})])],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-toolbar-items",{staticClass:"hidden-xs-only"},[n("v-btn",{attrs:{flat:"",router:"",to:"/",color:"teal"},on:{click:t.resetQuery}},[n("v-icon",{attrs:{color:"teal"}},[t._v("home")]),t._v("\n            Home\n        ")],1),t._v(" "),t.authenticated?t._e():n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.showMenu,expression:"showMenu"}],attrs:{flat:"",router:"",to:"/register"},on:{click:t.resetQuery}},[n("v-icon",{attrs:{left:""}},[t._v("group_add")]),t._v("\n            Register\n        ")],1),t._v(" "),t.authenticated?t._e():n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.showMenu,expression:"showMenu"}],attrs:{flat:"",router:"",to:"/login"},on:{click:t.resetQuery}},[n("v-icon",{attrs:{left:""}},[t._v("lock_open")]),t._v("\n            Login\n        ")],1),t._v(" "),t.showItemCart?n("v-btn",{staticClass:"elevation-0",attrs:{light:""},on:{click:t.showDrawerCart}},[n("v-badge",{attrs:{right:"",color:"teal"}},[n("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.amount))]),t._v(" "),n("v-icon",{attrs:{color:"secondary"}},[t._v("\n                shopping_cart\n            ")])],1)],1):t._e(),t._v(" "),t.authenticated?n("v-menu",{attrs:{"offset-y":""}},[n("v-btn",{attrs:{slot:"activator",flat:""},slot:"activator"},[n("v-icon",[t._v("account_circle")]),t._v("\n                "+t._s(t.email)+"\n                "),n("v-icon",[t._v("arrow_drop_down")])],1),t._v(" "),n("v-list",{staticClass:"align-center"},[n("v-list-tile",{attrs:{router:"",to:"/favorite"}},[n("v-list-tile-title",{staticClass:"text-xs-left black--text font-weight-bold body-2"},[n("v-icon",{attrs:{color:"accent"}},[t._v("favorite")]),t._v("\n                        FAVORITE\n                    ")],1)],1),t._v(" "),n("v-list-tile",{attrs:{router:"",to:"/changePassword"}},[n("v-list-tile-title",{staticClass:"text-xs-left black--text font-weight-bold body-2"},[n("v-icon",{attrs:{color:"black"}},[t._v("edit")]),t._v("\n                        CHANGE PASSWORD\n                    ")],1)],1),t._v(" "),n("v-list-tile",{on:{click:t.logout}},[n("v-list-tile-title",{staticClass:"text-xs-left font-weight-bold body-2"},[n("v-icon",{attrs:{color:"black"}},[t._v("lock")]),t._v("\n                        LOGOUT\n                    ")],1)],1)],1)],1):t._e()],1),t._v(" "),n("v-toolbar-side-icon",{staticClass:"hidden-sm-and-up black--text",on:{click:t.showMenuDrawer}})],1)},staticRenderFns:[]};var p=r("VU/8")(u,l,!1,function(t){r("LI6B")},null,null).exports,d={computed:o()({},Object(s.b)({snackbarOptions:"app/snackbarOptions"}),{snackbar:{get:function(){return this.$store.getters["app/snackbar"]},set:function(t){this.$store.commit("app/SET_SNACKBAR",t)}}})},f={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-snackbar",{attrs:{"multi-line":"",color:t.snackbarOptions.color},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.snackbarOptions.message)+"\n    "),r("v-btn",{attrs:{dark:"",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n        Close\n    ")])],1)},staticRenderFns:[]};var v=r("VU/8")(d,f,!1,function(t){r("V2Dn")},null,null).exports,m={methods:{logout:function(){this.resetQuery(),this.$store.dispatch("user/logout"),this.$router.push({name:"home"})},resetQuery:function(){this.$store.dispatch("filter/resetQueryParams")}},computed:o()({},Object(s.b)({email:"user/email",authenticated:"user/authenticated"}),{drawerMenu:{get:function(){return this.$store.getters["app/drawerMenu"]},set:function(t){this.$store.commit("app/SET_DRAWER_MENU",t)}}})},_={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-navigation-drawer",{staticClass:"elevation-1 ",attrs:{app:"",touchless:"",right:"",temporary:"",width:t.$vuetify.breakpoint.xs?270:330},model:{value:t.drawerMenu,callback:function(e){t.drawerMenu=e},expression:"drawerMenu"}},[t.email?r("v-toolbar",{staticClass:"transparent",attrs:{flat:""}},[r("v-list",{staticClass:"pa-0"},[r("v-list-tile",{},[r("v-list-tile-content",[r("v-list-tile-title",{staticClass:"text-xs-center font-weight-bold text-uppercase"},[t._v("\n                        "+t._s(t.email)+"\n                    ")])],1)],1)],1)],1):t._e(),t._v(" "),t.email?r("v-divider"):t._e(),t._v(" "),r("v-list",[r("v-list-tile",{attrs:{router:"",to:"/"},on:{click:t.resetQuery}},[r("v-list-tile-action",[r("v-icon",{attrs:{color:"teal"}},[t._v("home")])],1),t._v(" "),r("v-list-tile-content",[r("v-list-tile-title",{staticClass:"teal--text"},[t._v("\n                    Home\n                ")])],1)],1),t._v(" "),t.authenticated?r("v-list-tile",{attrs:{router:"",to:"/favorite"},on:{click:t.resetQuery}},[r("v-list-tile-action",[r("v-icon",{attrs:{color:"accent"}},[t._v("favorite")])],1),t._v(" "),r("v-list-tile-content",[r("v-list-tile-title",{staticClass:"black--text"},[t._v("\n                    Favorite\n                ")])],1)],1):t._e(),t._v(" "),t.authenticated?r("v-list-tile",{attrs:{router:"",to:"/changePassword"},on:{click:t.resetQuery}},[r("v-list-tile-action",[r("v-icon",{attrs:{color:"black"}},[t._v("lock_open")])],1),t._v(" "),r("v-list-tile-content",[r("v-list-tile-title",{staticClass:"black--text"},[t._v("\n                    Change Password\n                ")])],1)],1):t._e(),t._v(" "),t.authenticated?r("v-list-tile",{on:{click:function(e){t.logout()}}},[r("v-list-tile-action",[r("v-icon",{staticClass:"black--text"},[t._v("lock")])],1),t._v(" "),r("v-list-tile-content",[r("v-list-tile-title",{staticClass:"black--text"},[t._v("\n                    Logout\n                ")])],1)],1):t._e(),t._v(" "),t.authenticated?t._e():r("v-list-tile",{attrs:{router:"",to:"/register"},on:{click:t.resetQuery}},[r("v-list-tile-action",[r("v-icon",[t._v("group_add")])],1),t._v(" "),r("v-list-tile-content",[r("v-list-tile-title",[t._v("\n                    Register\n                ")])],1)],1),t._v(" "),t.authenticated?t._e():r("v-list-tile",{attrs:{router:"",to:"/login"},on:{click:t.resetQuery}},[r("v-list-tile-action",[r("v-icon",[t._v("lock_open")])],1),t._v(" "),r("v-list-tile-content",[r("v-list-tile-title",[t._v("\n                    Login\n                ")])],1)],1)],1)],1)},staticRenderFns:[]};var h=r("VU/8")(m,_,!1,function(t){r("B4Uu")},null,null).exports,g={computed:o()({},Object(s.b)({progressLinear:"app/progressLinear"}))},E={render:function(){var t=this.$createElement,e=this._self._c||t;return this.progressLinear?e("v-progress-linear",{attrs:{color:"accent",height:"2",indeterminate:""}}):this._e()},staticRenderFns:[]};var S=r("VU/8")(g,E,!1,function(t){r("HKEP")},null,null).exports,T={render:function(){var t=this.$createElement,e=this._self._c||t;return this.loading?e("v-progress-circular",{attrs:{indeterminate:"",color:"teal"}}):this._e()},staticRenderFns:[]};var w=r("VU/8")({computed:{loading:function(){return this.$store.getters["app/progressCircle"]}}},T,!1,function(t){r("jg70")},null,null).exports,R={components:{"app-login-form":r("yEUa").a},computed:{dialogLogin:{get:function(){return this.$store.getters["app/dialogLogin"]},set:function(t){this.$store.commit("app/SET_DIALOG_LOGIN",t)}}}},b={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{staticClass:"elevation-0 dialogLogin",attrs:{"max-width":"700","full-width":t.$vuetify.breakpoint.xs,transition:"false"},model:{value:t.dialogLogin,callback:function(e){t.dialogLogin=e},expression:"dialogLogin"}},[r("app-login-form")],1)},staticRenderFns:[]};var k={components:{"app-footer":c,"app-menu":p,"app-snackbar":v,"app-progress-linear":S,"app-progress-circle":w,"app-dialog-login":r("VU/8")(R,b,!1,function(t){r("I2pS")},null,null).exports,"app-drawer-menu":h},created:function(){var t=localStorage.getItem("MNSHOP");if(t){var e=JSON.parse(t),r=e.items;r&&this.$store.dispatch("cart/getCartFromLocal",r);var n=e.token||"",a=e.refreshToken||"";n&&e?this.$store.dispatch("user/relogin",{token:n,refreshToken:a}):this.$store.commit("app/SET_SHOW_MENU",!0)}else this.$store.commit("app/SET_SHOW_MENU",!0)},computed:o()({},Object(s.b)({progressLinear:"app/progressLinear",amount:"cart/amount",authenticated:"user/authenticated"})),metaInfo:function(){return{title:"Master New Shop Vue",meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},{property:"og:title",content:"MasterNew Shop - Using Vue.js"},{property:"og:type",content:"website"},{property:"og:description",content:"MasterNew Shop demo for my knowledge about vue.js frameword."},{property:"og:image",content:"https://firebasestorage.googleapis.com/v0/b/mn-shop.appspot.com/o/logo.jpg?alt=media&token=5aa86c42-03cc-4a04-bcb7-17531440dc60"},{property:"fb:app_id",content:"MasterNew Shop - Using Vue.js"}]}}},x={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("h1",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v("MasterNew Shop Vue - Using vuejs frameword")]),t._v(" "),r("v-app",[r("app-drawer-menu"),t._v(" "),r("app-menu"),t._v(" "),r("v-content",{staticClass:"pb-2",attrs:{fluid:""}},[r("transition",{attrs:{name:"router-animation"}},[r("router-view")],1)],1),t._v(" "),t.progressLinear?t._e():r("app-footer"),t._v(" "),r("app-progress-linear"),t._v(" "),r("app-progress-circle"),t._v(" "),r("app-dialog-login"),t._v(" "),r("app-snackbar")],1)],1)},staticRenderFns:[]};var O,I=r("VU/8")(k,x,!1,function(t){r("wJfV")},null,null).exports,P=r("3EgV"),C=r.n(P),A=r("/ocq"),y=r("p3jY"),L=r.n(y),N=r("mvHQ"),M=r.n(N),D={state:{progressLinear:!1,progressCircle:!1,imageLoading:"https://firebasestorage.googleapis.com/v0/b/mn-shop.appspot.com/o/web_loader_dribbble.gif?alt=media&token=500424ff-2575-45a1-8dda-292f59a9ec37",imageError:"https://firebasestorage.googleapis.com/v0/b/mn-shop.appspot.com/o/404.gif?alt=media&token=6b31f3d6-4272-41e2-b175-18f0a30221cc",snackbar:!1,snackbarOptions:{message:"",color:""},isError:!1,drawerCart:!1,drawerMenu:!1,drawerFilter:!1,dialogLogin:!1,dialogMap:!1,showMenu:!1,offsetTop:0},getters:{progressLinear:function(t){return t.progressLinear},progressCircle:function(t){return t.progressCircle},imageLoading:function(t){return t.imageLoading},imageError:function(t){return t.imageError},snackbar:function(t){return t.snackbar},snackbarOptions:function(t){return t.snackbarOptions},isError:function(t){return t.isError},drawerCart:function(t){return t.drawerCart},drawerMenu:function(t){return t.drawerMenu},drawerFilter:function(t){return t.drawerFilter},dialogLogin:function(t){return t.dialogLogin},dialogMap:function(t){return t.dialogMap},showMenu:function(t){return t.showMenu},offsetTop:function(t){return t.offsetTop},storage:function(t,e,r){return{items:r.cart.items.map(function(t){return{_id:t._id,quantity:t.quantity}}),token:r.user.token,refreshToken:r.user.refreshToken}}},mutations:{SET_PROGRESS_LINEAR:function(t,e){t.progressLinear=e},SET_PROGRESS_CIRCLE:function(t,e){t.progressCircle=e},SET_SNACKBAR:function(t,e){t.snackbar=e},SET_SNACKBAR_OPTIONS:function(t,e){t.snackbarOptions.message=e.message||"",t.snackbarOptions.color=e.color||""},SET_APP_IS_ERROR:function(t,e){t.errorPage=e},SET_DRAWER_CART:function(t,e){t.drawerCart=e},SET_DRAWER_MENU:function(t,e){t.drawerMenu=e},SET_DRAWER_FILTER:function(t,e){t.drawerFilter=e},SET_DIALOG_LOGIN:function(t,e){t.dialogLogin=e},SET_DIALOG_MAP:function(t,e){t.dialogMap=e},SET_SHOW_MENU:function(t,e){t.showMenu=e},SET_OFFSET_TOP:function(t,e){t.offsetTop=e}},actions:{showSnackbar:function(t,e){var r=t.commit;r("SET_SNACKBAR_OPTIONS",e),r("SET_SNACKBAR",!0)},setLocalStorage:function(t){var e=t.getters;localStorage.setItem("MNSHOP",M()(e.storage))}},namespaced:!0},F=r("woOf"),G=r.n(F),U=r("Gu7T"),V=r.n(U),$=r("mtWM"),Q=r.n($).a.create({baseURL:"https://masternew.herokuapp.com/mn-shop/api/v1/"}),H={getProducts:function(t){return Q.get("/products?"+t)},getCategories:function(){return Q.get("/categories")},getProduct:function(t){return Q.get("/products/"+t)},getRelatedProduct:function(t){return Q.get("/products?limit=8&cate="+t)},putFavoriteProducts:function(t){return Q.put("/users/"+t.userId,{favorites:t.favorites},{headers:{Authorization:"Bareer "+t.token}})}},j={state:{items:[]},getters:{items:function(t){return t.items},amount:function(t){return t.items.length}},mutations:{ADD_TO_CART:function(t,e){t.items.push(e)},REMOVE_FROM_CART:function(t,e){t.items.splice(e,1)},INCREASE_QUANTITY:function(t,e){var r=t.items.slice(),n=r.findIndex(function(t){return t._id==e});-1!=n&&r[n].quantity<100&&(r[n].quantity+=1),t.items=r},DESCREASE_QUANTITY:function(t,e){var r=[].concat(V()(t.items)),n=r.findIndex(function(t){return t._id==e});-1!=n&&r[n].quantity>1&&(r[n].quantity-=1),t.items=r},SET_CART:function(t,e){t.items=e},CLEAR_CART:function(t){t.items=[]}},actions:{clearCart:function(t){var e=t.commit,r=t.dispatch;e("CLEAR_CART"),r("app/setLocalStorage",null,{root:!0})},addToCart:function(t,e){var r=t.commit,n=t.state,a=t.dispatch;if(n.items.find(function(t){return t._id==e._id})){a("app/showSnackbar",{message:"This item already exists in cart"},{root:!0})}else r("ADD_TO_CART",e),a("app/setLocalStorage",null,{root:!0})},removeFromCart:function(t,e){var r=t.commit,n=t.state,a=t.dispatch,o=n.items.findIndex(function(t){return t._id==e});-1!=o&&(r("REMOVE_FROM_CART",o),a("app/setLocalStorage",null,{root:!0}))},increaseQuantity:function(t,e){var r=t.commit,n=t.dispatch;r("INCREASE_QUANTITY",e),n("app/setLocalStorage",null,{root:!0})},descreaseQuantity:function(t,e){var r=t.commit,n=t.dispatch;r("DESCREASE_QUANTITY",e),n("app/setLocalStorage",null,{root:!0})},getCartFromLocal:function(t,e){var r=t.dispatch;e.forEach(function(t){H.getProduct(t._id).then(function(e){var n=e.data.data,a=G()({},n,{quantity:t.quantity});r("addToCart",a)})})}},namespaced:!0},q=r("Xxa5"),W=r.n(q),B=r("exGp"),K=r.n(B),Y=r("bOdI"),J=r.n(Y),z={getProvinces:function(){return Q.get("/provinces")},getDistricts:function(t){return Q.get("/districts/"+t)},getWards:function(t){return Q.get("/wards/"+t)},getRelatedProduct:function(t){return Q.get("/products?limit=8&cate="+t)},placeOrder:function(t){return Q.post("/orders",t)}},X={state:{step:1,validBilling:!1,provinces:[],districts:[],wards:[],items:[],customerInfo:{}},getters:(O={step:function(t){return t.step},validBilling:function(t){return t.validBilling},provinces:function(t){return t.provinces}},J()(O,"provinces",function(t){return t.provinces}),J()(O,"districts",function(t){return t.districts}),J()(O,"wards",function(t){return t.wards}),J()(O,"customerInfo",function(t){return t.customerInfo}),O),mutations:{SET_VALID_BILLING:function(t,e){t.validBilling=e},SET_STEP:function(t,e){t.step=e},SET_PROVINCES:function(t,e){t.provinces=e},SET_DISTRICTS:function(t,e){t.districts=e},SET_WARDS:function(t,e){t.wards=e},SET_CUSTOMER_INFO:function(t,e){t.customerInfo=e}},actions:{getProvinces:function(t){var e=this,r=t.commit,n=t.dispatch;return K()(W.a.mark(function t(){var a;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("app/SET_PROGRESS_LINEAR",!0,{root:!0}),t.prev=1,t.next=4,z.getProvinces();case 4:a=t.sent,r("SET_PROVINCES",a.data.map(function(t){return{text:t.name,value:t.code}})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),n("app/showSnackbar",{message:"Could not get provinces !."},{root:!0});case 12:r("app/SET_PROGRESS_LINEAR",!1,{root:!0});case 13:case"end":return t.stop()}},t,e,[[1,8]])}))()},getDistricts:function(t,e){var r=this,n=t.commit;return K()(W.a.mark(function t(){var a;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("app/SET_PROGRESS_LINEAR",!0,{root:!0}),t.prev=1,t.next=4,z.getDistricts(e);case 4:a=t.sent,n("SET_DISTRICTS",a.data.map(function(t){return{text:t.name,value:t.code}})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),dispatch("app/showSnackbar",{message:"Could not get districts !."},{root:!0});case 12:n("app/SET_PROGRESS_LINEAR",!1,{root:!0});case 13:case"end":return t.stop()}},t,r,[[1,8]])}))()},getWards:function(t,e){var r=this,n=t.commit;return K()(W.a.mark(function t(){var a;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("app/SET_PROGRESS_LINEAR",!0,{root:!0}),t.prev=1,t.next=4,z.getWards(e);case 4:a=t.sent,n("SET_WARDS",a.data.map(function(t){return{text:t.name,value:t.code}})),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),dispatch("app/showSnackbar",{message:"Could not get wards !."},{root:!0});case 12:n("app/SET_PROGRESS_LINEAR",!1,{root:!0});case 13:case"end":return t.stop()}},t,r,[[1,8]])}))()},placeOrder:function(t,e){var r=this,n=t.commit,a=t.dispatch;return K()(W.a.mark(function t(){return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("app/SET_PROGRESS_LINEAR",!0,{root:!0}),t.prev=1,t.next=4,z.placeOrder(e);case 4:st.push({name:"home"}),a("cart/clearCart",null,{root:!0}),a("app/showSnackbar",{message:"Place order successfully.",color:"teal"},{root:!0}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),a("app/showSnackbar",{message:"Could not place rrder. Please try again or refresh page!."},{root:!0});case 14:n("app/SET_PROGRESS_LINEAR",!1,{root:!0});case 15:case"end":return t.stop()}},t,r,[[1,10]])}))()}},namespaced:!0},Z={state:{categories:[],category:"",totalPage:0,limit:20,page:1,min:0,max:0,orderPrice:""},getters:{categories:function(t){return t.categories},category:function(t){return t.category},totalPage:function(t){return t.totalPage},page:function(t){return t.page},queryParams:function(t){var e={string:"",object:{}};return t.category&&(e.string+="&cate="+t.category,e.object.cate=t.category),1!=t.page&&(e.string+="&page="+t.page,e.object.page=t.page),t.min&&(e.string+="&min="+t.min,e.object.min=t.min),t.max&&(e.string+="&max="+t.max,e.object.max=t.max),t.orderPrice&&(e.string+="&price="+t.orderPrice,e.object.price=t.orderPrice),e}},mutations:{SET_CATEGORIES:function(t,e){t.categories=e},SET_CATEGORY:function(t,e){t.category=e},SET_TOTAL_PAGE:function(t,e){t.totalPage=e},SET_LIMIT:function(t,e){t.perPage=e},SET_PAGE:function(t,e){t.page=e},SET_MIN:function(t,e){t.min=e},SET_MAX:function(t,e){t.max=e},SET_ORDER_PRICE:function(t,e){t.orderPrice=e}},actions:{getCategories:function(t){var e=this,r=t.commit,n=t.dispatch;return K()(W.a.mark(function t(){var a;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H.getCategories();case 3:a=t.sent,r("SET_CATEGORIES",a.data),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),n("app/showSnackbar",{message:"Can't get categories"},{root:!0});case 11:case"end":return t.stop()}},t,e,[[0,7]])}))()},resetQueryParams:function(t){var e=t.commit;e("SET_PAGE",1),e("SET_CATEGORY",""),e("SET_MIN",0),e("SET_MAX",0),e("SET_ORDER_PRICE","")}},namespaced:!0},tt=r("//Fk"),et=r.n(tt),rt={state:{products:[],product:null,relatedProducts:[],favorites:[],favoriteItems:[]},getters:{products:function(t){return t.products},product:function(t){return t.product},relatedProducts:function(t){return t.relatedProducts},favorites:function(t){return t.favorites},favoriteItems:function(t){return t.favoriteItems}},mutations:{SET_PRODUCTS:function(t,e){t.products=e},SET_PRODUCT:function(t,e){t.product=e},SET_RELATED_PRODUCTS:function(t,e){t.relatedProducts=e},SET_FAVORITES:function(t,e){t.favorites=e},ADD_TO_FAVORITES:function(t,e){-1==t.favorites.findIndex(function(t){return t==e})&&t.favorites.push(e)},REMOVE_FROM_FAVORITES:function(t,e){var r=t.favorites.findIndex(function(t){return t==e});-1!=r&&t.favorites.splice(r,1)},ADD_TO_FAVORITE_ITEMS:function(t,e){t.favoriteItems.find(function(t){return t._id==e._id})||t.favoriteItems.push(e)},REMOVE_FROM_FAVORITE_ITEMS:function(t,e){var r=t.favoriteItems.findIndex(function(t){return t._id==e});-1!=r&&t.favoriteItems.splice(r,1)}},actions:{getProducts:function(t){var e=this,r=t.commit,n=t.rootGetters,a=t.dispatch;return K()(W.a.mark(function t(){var o,s;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r("app/SET_PROGRESS_LINEAR",!0,{root:!0}),r("SET_PRODUCTS",[]),o=n["filter/queryParams"].string,t.prev=3,t.next=6,H.getProducts(o);case 6:s=t.sent,r("SET_PRODUCTS",s.data.data),r("filter/SET_TOTAL_PAGE",s.data.lastPage,{root:!0}),r("app/SET_APP_IS_ERROR",!1,{root:!0}),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(3),a("app/showSnackbar",{message:"Could not get products!."},{root:!0}),r("app/SET_APP_IS_ERROR",!0,{root:!0});case 17:r("app/SET_PROGRESS_LINEAR",!1,{root:!0});case 18:case"end":return t.stop()}},t,e,[[3,12]])}))()},getProduct:function(t,e){var r=this,n=t.commit;return K()(W.a.mark(function t(){var a;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("app/SET_PROGRESS_LINEAR",!0,{root:!0}),t.prev=1,t.next=4,H.getProduct(e);case 4:return t.next=6,t.sent;case 6:a=t.sent,n("SET_PRODUCT",a.data.data),n("app/SET_APP_IS_ERROR",!1,{root:!0}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(1),dispatch("app/showSnackbar",{message:"Could not get products!."},{root:!0}),n("app/SET_APP_IS_ERROR",!1,{root:!0});case 16:n("app/SET_PROGRESS_LINEAR",!1,{root:!0});case 17:case"end":return t.stop()}},t,r,[[1,11]])}))()},getRelatedProducts:function(t,e){var r=this,n=t.commit,a=t.dispatch;return K()(W.a.mark(function t(){var o,s;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("SET_RELATED_PRODUCTS",[]),t.prev=1,t.next=4,H.getRelatedProduct(e);case 4:o=t.sent,s=o.data.data,n("SET_RELATED_PRODUCTS",s),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),a("app/showSnackbar",{message:"Could not get related products!."},{root:!0});case 13:case"end":return t.stop()}},t,r,[[1,9]])}))()},updateFavorites:function(t,e){var r,n=this,a=t.dispatch,o=t.rootState;return new et.a((r=K()(W.a.mark(function t(r,s){var i;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,i={userId:o.user.id,favorites:e,token:o.user.token},t.next=4,H.putFavoriteProducts(i);case 4:a("app/setLocalStorage",null,{root:!0}),r(!0),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.response),s(!1);case 12:case"end":return t.stop()}},t,n,[[0,8]])})),function(t,e){return r.apply(this,arguments)}))},setFavorite:function(t,e){var r=this,n=t.commit,a=t.dispatch,o=t.state,s=e.id,i=e.action;return K()(W.a.mark(function t(){var e;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("app/SET_PROGRESS_CIRCLE",!0,{root:!0}),"add"==i?n("ADD_TO_FAVORITES",s):(n("REMOVE_FROM_FAVORITES",s),n("REMOVE_FROM_FAVORITE_ITEMS",s)),t.next=4,a("updateFavorites",o.favorites);case 4:e=t.sent,a("app/showSnackbar",e?{message:"Successful "+i+" this product to favorites!.",color:"teal"}:{message:"Could not "+i+" this product to favorites!."},{root:!0}),n("app/SET_PROGRESS_CIRCLE",!1,{root:!0});case 7:case"end":return t.stop()}},t,r)}))()},getFavoriteItems:function(t){var e=t.commit,r=t.state;e("app/SET_PROGRESS_LINEAR",!0,{root:!0}),r.favorites.forEach(function(t){H.getProduct(t).then(function(t){e("ADD_TO_FAVORITE_ITEMS",t.data.data)})}),e("app/SET_PROGRESS_LINEAR",!1,{root:!0})}},namespaced:!0},nt={register:function(t){return Q.post("/users/register",t)},login:function(t){return Q.post("/users/login",t)},relogin:function(t){return Q.post("/users/relogin",{refreshToken:t.refreshToken},{headers:{Authorization:"Bareer "+t.token}})},changePassword:function(t){return Q.post("/users/"+t.userId+"/changepassword",t.data,{headers:{Authorization:"Bareer "+t.token}})}},at={state:{id:"",token:"",refreshToken:"",authenticated:!1,email:""},getters:{id:function(t){return t.id},token:function(t){return t.token},refreshToken:function(t){return t.refreshToken},email:function(t){return t.email},authenticated:function(t){return t.authenticated}},mutations:{SET_ID:function(t,e){t.id=e},SET_EMAIL:function(t,e){t.email=e},SET_TOKEN:function(t,e){t.token=e,t.authenticated=!0},SET_REFRESH_TOKEN:function(t,e){t.refreshToken=e},SET_AUTHENTICATED:function(t,e){e||(t.token="",t.refreshToken="",t.id="",t.email="",t.favorites=[]),t.authenticated=e}},actions:{register:function(t,e){var r=this,n=t.commit,a=t.dispatch;return K()(W.a.mark(function t(){var o;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("app/SET_PROGRESS_LINEAR",!0,{root:!0}),t.prev=1,t.next=4,nt.register(e);case 4:st.push({name:"login"}),a("app/showSnackbar",{message:"Register successfully.",color:"teal"},{root:!0}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),o=t.t0.response.data||"Something went wrong",a("app/showSnackbar",{message:o},{root:!0});case 13:n("app/SET_PROGRESS_LINEAR",!1,{root:!0});case 14:case"end":return t.stop()}},t,r,[[1,9]])}))()},login:function(t,e){var r=this,n=t.commit,a=t.dispatch;return K()(W.a.mark(function t(){var o,s;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("app/SET_PROGRESS_LINEAR",!0,{root:!0}),t.prev=1,t.next=4,nt.login(e);case 4:o=t.sent,a("setUser",o.data),a("changeAuthentication",!0),a("app/showSnackbar",{message:"Login successfully",color:"teal"},{root:!0}),n("app/SET_DIALOG_LOGIN",!1,{root:!0}),st.push({name:"home"}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),s=t.t0.response.data.message||"Opps! Something went wrong",a("app/showSnackbar",{message:s},{root:!0});case 17:n("app/SET_PROGRESS_LINEAR",!1,{root:!0});case 18:case"end":return t.stop()}},t,r,[[1,13]])}))()},relogin:function(t,e){var r=this,n=t.commit,a=t.dispatch;return K()(W.a.mark(function t(){var o;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nt.relogin(e);case 3:o=t.sent,n("app/SET_SHOW_MENU",!0,{root:!0}),a("setUser",o.data),a("changeAuthentication",!0),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),n("app/SET_SHOW_MENU",!0,{root:!0}),a("changeAuthentication",!1);case 13:case"end":return t.stop()}},t,r,[[0,9]])}))()},logout:function(t){var e=t.dispatch;e("changeAuthentication",!1);e("app/showSnackbar",{message:"Logout successfully"},{root:!0})},changeAuthentication:function(t,e){var r=t.commit,n=t.dispatch;r("SET_AUTHENTICATED",e),n("app/setLocalStorage",null,{root:!0})},setUser:function(t,e){var r=t.commit;r("product/SET_FAVORITES",e.favorites,{root:!0}),r("SET_ID",e._id),r("SET_TOKEN",e.token),r("SET_EMAIL",e.email),r("SET_REFRESH_TOKEN",e.refreshToken)},changePassword:function(t,e){var r=this,n=t.commit,a=t.rootState,o=t.dispatch;return K()(W.a.mark(function t(){var s,i;return W.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n("app/SET_PROGRESS_LINEAR",!0,{root:!0}),t.prev=1,s={userId:a.user.id,token:a.user.token,data:e},t.next=5,nt.changePassword(s);case 5:o("app/showSnackbar",{message:"Change password successfully",color:"teal"},{root:!0}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),i=t.t0.response.data.message||"Opps! Something went wrong",o("app/showSnackbar",{message:i},{root:!0});case 13:n("app/SET_PROGRESS_LINEAR",!1,{root:!0});case 14:case"end":return t.stop()}},t,r,[[1,9]])}))()}},namespaced:!0};n.default.use(s.a);var ot=new s.a.Store({modules:{app:D,checkout:X,product:rt,filter:Z,cart:j,user:at}});n.default.use(A.a),n.default.use(L.a);var st=new A.a({base:"development"===Object({NODE_ENV:"production"}).environment?"/":"/mn-shop-vue/",routes:[{path:"/",component:function(){return Promise.all([r.e(0),r.e(1)]).then(r.bind(null,"wqTG"))},name:"home"},{path:"/checkout",name:"checkout",component:function(){return Promise.all([r.e(0),r.e(2)]).then(r.bind(null,"3PbG"))}},{path:"/product/:id",name:"product",component:function(){return Promise.all([r.e(0),r.e(3)]).then(r.bind(null,"rJkA"))}},{path:"/changePassword",component:function(){return r.e(5).then(r.bind(null,"o/KQ"))},name:"changePassword",beforeEnter:function(t,e,r){ot.getters["user/authenticated"]?r():r("/login")}},{path:"/forgotPassword",component:function(){return r.e(9).then(r.bind(null,"m161"))},name:"forgotPassword"},{path:"/login",name:"login",component:function(){return r.e(6).then(r.bind(null,"3R9W"))}},{path:"/register",name:"register",component:function(){return r.e(8).then(r.bind(null,"ViHg"))}},{path:"/favorite",name:"favorite",component:function(){return Promise.all([r.e(0),r.e(4)]).then(r.bind(null,"iDfZ"))}},{path:"/cart",name:"cart",component:function(){return r.e(0).then(r.bind(null,"Zc39"))}},{path:"*",name:"404",component:function(){return r.e(7).then(r.bind(null,"5Iau"))}}],scrollBehavior:function(t,e,r){return r||{x:0,y:0}},mode:"history"}),it=r("9Zon"),ct=r.n(it),ut=r("3It0"),lt=r("VK1f"),pt=r.n(lt);r("Qqs1");n.default.component("vue-gallery-slideshow",ct.a),n.default.use(ut.default),n.default.use(pt.a),n.default.use(C.a,{theme:{primary:"#1976D2",secondary:"#424242",accent:"#e84118",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}),n.default.config.productionTip=!1,n.default.filter("currencyVND",function(t){return t.toLocaleString("it-IT",{style:"currency",currency:"VND"})}),n.default.filter("uppercase",function(t){return t.toUpperCase()}),new n.default({el:"#app",router:st,store:ot,components:{App:I},template:"<App/>"})},Qqs1:function(t,e){},V2Dn:function(t,e){},jg70:function(t,e){},mUoS:function(t,e){},wJfV:function(t,e){},yEUa:function(t,e,r){"use strict";var n={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-toolbar",{attrs:{color:"black--text white"}},[r("v-toolbar-title",[r("v-icon",{attrs:{color:"black",large:""}},[t._v("lock_open")]),t._v("\n            LOGIN\n        ")],1),t._v(" "),r("v-spacer")],1),t._v(" "),r("v-card",{staticClass:"mt-0 elevation-4"},[r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{staticClass:"pt-3",class:"px-"+t.formPadding,attrs:{xs12:""}},[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{staticClass:"pt-1",attrs:{rules:t.emailRules,label:"E-mail",required:"",color:"teal","prepend-icon":"email"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.submit(e)):null}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),r("v-text-field",{staticClass:"pt-1",attrs:{rules:t.passwordRules,type:"password",label:"Password",required:"",color:"teal","prepend-icon":"lock"},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?(e.preventDefault(),t.submit(e)):null}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),r("v-flex",{staticClass:"pa-4 text-xs-right",attrs:{xs12:""}},[r("v-btn",{attrs:{flat:"",router:"",to:"/register"}},[r("v-icon",{attrs:{left:""}},[t._v("group_add")]),t._v("\n                    register\n                ")],1),t._v(" "),r("v-btn",{staticClass:"white--text",attrs:{disabled:!t.valid,color:"teal",type:"submit",tabindex:"3",large:""},on:{click:t.submit}},[r("v-icon",{attrs:{left:""}},[t._v("input")]),t._v("\n                    Login\n                ")],1)],1)],1)],1)],1)},staticRenderFns:[]},a=r("VU/8")({data:function(){return{valid:!1,password:"123456",passwordRules:[function(t){return!!t||"Password is required"},function(t){return t.length>5||"Password must be more than 5 characters"}],email:"test@test.com",emailRules:[function(t){return!!t||"E-mail is required"},function(t){return/.+@.+/.test(t)||"E-mail must be valid"}]}},methods:{submit:function(){if(this.$refs.form.validate()){var t={email:this.email,password:this.password};this.$store.dispatch("user/login",t)}}},computed:{formPadding:function(){return this.$vuetify.breakpoint.xs?2:5}}},n,!1,null,null,null);e.a=a.exports}},["NHnr"]);
//# sourceMappingURL=app.00cbe1308515e9b448eb.js.map